{"version":3,"sources":["components/Footer.jsx","context/songsContext.js","api/deezerApi.js","components/Header.jsx","components/Song.jsx","components/Main.jsx","App.js","index.js"],"names":["Footer","className","SongsContext","React","createContext","SongsFetchContext","children","useState","results","setResults","isLoading","setIsLoading","error","setError","Provider","value","getSongs","name","fetch","method","headers","then","response","json","data","catch","err","useResultContext","useContext","Header","songName","setSongName","useEffect","timer","setTimeout","clearTimeout","href","type","placeholder","onChange","e","target","title","onClick","length","Song","props","play","setPlay","volume","setVolume","artist","setSongId","songId","music","useRef","id","stopSong","current","pause","src","album","cover_medium","alt","title_short","checkActiveSong","min","step","max","link","ref","preview","onEnded","Main","message","map","i","style","textAlign","margin","color","height","width","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a65d25a4.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\n\r\nexport default function Footer() {\r\n    return(\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__description\">create by Harniy (c) 2021</p>\r\n        </footer>\r\n    )\r\n}","import React from \"react\";\r\n\r\nexport const SongsContext = React.createContext()\r\n","import React, { useState, useContext } from \"react\";\r\nimport { SongsContext } from \"../context/songsContext\";\r\n\r\nconst baseUrl = 'https://deezerdevs-deezer.p.rapidapi.com/'\r\n\r\nexport const SongsFetchContext = ({children}) => {\r\n    const [results, setResults] = useState([])\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [error, setError] = useState({})\r\n\r\n    const getSongs = (name) => {\r\n      setIsLoading(true)\r\n      setError({})\r\n\r\n      fetch(`${baseUrl}search?q=${name}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"x-rapidapi-host\": \"deezerdevs-deezer.p.rapidapi.com\",\r\n        \"x-rapidapi-key\": \"5004efafb9msh4bc462359e588c3p145a3cjsn5a13394dc6ae\",\r\n      },\r\n    })\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n\r\n        if(data.error) {\r\n          setIsLoading(false)\r\n          setError(data)\r\n        } else {\r\n          setResults(data.data)\r\n          setIsLoading(false)\r\n        }\r\n\r\n      })\r\n      .catch((err) => {\r\n        setIsLoading(false)\r\n        setError(err)\r\n      });\r\n\r\n    } \r\n    \r\n    return (\r\n      <SongsContext.Provider value={{getSongs, results, setResults, isLoading, error}} >\r\n        {children}\r\n      </SongsContext.Provider>\r\n    )\r\n}\r\n\r\n\r\nexport const useResultContext = () => useContext(SongsContext) ","import React, { useEffect, useMemo, useState } from \"react\";\r\nimport { useResultContext } from \"../api/deezerApi\";\r\n\r\nexport default function Header() {\r\n  const [songName, setSongName] = useState(\"\");\r\n\r\n  const { getSongs } = useResultContext();\r\n\r\n  useEffect(() => {\r\n    let timer\r\n\r\n    if(songName !== '') {\r\n     timer = setTimeout(() => {\r\n      getSongs(songName);\r\n      }, 1000);\r\n    }\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [songName]);\r\n\r\n  return (\r\n    <header className=\"header__container container\">\r\n      <div className=\"header__container-title\">\r\n        <a href=\"/\">\r\n          <p>\r\n            <span>vibe</span>MUSIC\r\n          </p>\r\n        </a>\r\n      </div>\r\n      <div className=\"header__container-inner\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"header__inner-input\"\r\n          placeholder=\"Search...\"\r\n          value={songName}\r\n          onChange={(e) => setSongName(e.target.value)}\r\n        />\r\n        <span\r\n          className=\"material-icons search-icon\"\r\n          title=\"search music\"\r\n          onClick={() => getSongs(songName)}\r\n        >\r\n          search\r\n        </span>\r\n        {songName.length ? (\r\n          <span\r\n            className=\"material-icons close-icon\"\r\n            title=\"Clear search\"\r\n            onClick={() => setSongName(\"\")}\r\n          >\r\n            close\r\n          </span>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nexport default function Song(props) {\r\n  const [play, setPlay] = useState(false);\r\n  const [volume, setVolume] = useState(0.8);\r\n  const { artist, setSongId, songId } = props;\r\n\r\n  const music = useRef(null);\r\n\r\n  useEffect(() => {\r\n      if(artist.id !== songId) return stopSong()\r\n  }, [songId])\r\n\r\n  const playSong = () => {\r\n    setSongId(artist.id);\r\n    music.current.play();\r\n    setPlay(true);\r\n  };\r\n\r\n  const stopSong = () => {\r\n    music.current.pause();\r\n    setPlay(false);\r\n  };\r\n\r\n  const checkActiveSong = () => {\r\n    if (artist.id === songId) {\r\n      return \"song__active\";\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    music.current.volume = volume;\r\n  }, [volume]);\r\n\r\n  return (\r\n    <div className=\"song__block\">\r\n      <img\r\n        src={artist.album.cover_medium}\r\n        alt=\"\"\r\n        className=\"song__block-poster\"\r\n      />\r\n      <p className=\"song__block-name\">{artist.title_short}</p>\r\n      <p className=\"song__block-artist\">{artist.artist.name}</p>\r\n      <div className={`song__audio-block ${checkActiveSong()}`}>\r\n        {!play ? (\r\n          <span\r\n            className=\"material-icons play\"\r\n            title=\"pay\"\r\n            onClick={() => playSong()}\r\n          >\r\n            play_circle_outline\r\n          </span>\r\n        ) : (\r\n          <span\r\n            className=\"material-icons stop\"\r\n            title=\"play\"\r\n            onClick={() => stopSong()}\r\n          >\r\n            pause_circle_outline\r\n          </span>\r\n        )}\r\n        <input\r\n          type=\"range\"\r\n          className=\"song__audio-volume\"\r\n          value={volume}\r\n          min=\"0\"\r\n          step=\"0.1\"\r\n          max=\"1\"\r\n          onChange={(e) => setVolume(e.target.value)}\r\n        />\r\n        <a href={artist.link} className=\"song__audio-full\" target=\"_blank\">\r\n          full song\r\n        </a>\r\n      </div>\r\n\r\n      <audio ref={music} src={artist.preview} onEnded={() => stopSong()}></audio>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport Song from \"./Song\";\r\n\r\nimport { useResultContext } from \"../api/deezerApi\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nexport default function Main() {\r\n  const [songId, setSongId] = useState(null);\r\n\r\n  const { results, isLoading, error } = useResultContext();\r\n\r\n\r\n\r\n  return (\r\n    <main className=\"main__container container\">\r\n      <h3 className=\"main__container-title\">Original Soundtrack</h3>\r\n\r\n      {!isLoading && !error?.error?.message && (\r\n        <div className=\"main__container-songs\">\r\n          {results?.map((artist, i) => (\r\n            <div key={artist.id}className=\"song__container-block\" >\r\n            <Song artist={artist} setSongId={setSongId} songId={songId} />\r\n              </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {isLoading && (\r\n        <Loader\r\n          style={{ textAlign: \"center\", margin: \"100px\" }}\r\n          type=\"Puff\"\r\n          color=\"#ffd11a94\"\r\n          height={100}\r\n          width={100}\r\n        />\r\n      )}\r\n\r\n      {error?.error?.message && (\r\n        <p className=\"error\">Error: {error?.error?.message}</p>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n","import Footer from './components/Footer';\nimport Header from './components/Header'\nimport Main from './components/Main'\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <Header />\n        <Main />\n        <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React, { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"material-icons/iconfont/material-icons.css\";\n\nimport { SongsFetchContext } from \"./api/deezerApi\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <SongsFetchContext>\n      <App />\n    </SongsFetchContext>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}