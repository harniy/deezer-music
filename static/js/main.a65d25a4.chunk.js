(this["webpackJsonpmusic-vibe"]=this["webpackJsonpmusic-vibe"]||[]).push([[0],{11:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(5),a=n.n(s),i=(n(11),n(0));function o(){return Object(i.jsx)("footer",{className:"footer",children:Object(i.jsx)("p",{className:"footer__description",children:"create by Harniy (c) 2021"})})}var l=n(3),u=r.a.createContext(),j=function(e){var t=e.children,n=Object(c.useState)([]),r=Object(l.a)(n,2),s=r[0],a=r[1],o=Object(c.useState)(!1),j=Object(l.a)(o,2),d=j[0],b=j[1],h=Object(c.useState)({}),m=Object(l.a)(h,2),O=m[0],f=m[1];return Object(i.jsx)(u.Provider,{value:{getSongs:function(e){b(!0),f({}),fetch("".concat("https://deezerdevs-deezer.p.rapidapi.com/","search?q=").concat(e),{method:"GET",headers:{"x-rapidapi-host":"deezerdevs-deezer.p.rapidapi.com","x-rapidapi-key":"5004efafb9msh4bc462359e588c3p145a3cjsn5a13394dc6ae"}}).then((function(e){return e.json()})).then((function(e){e.error?(b(!1),f(e)):(a(e.data),b(!1))})).catch((function(e){b(!1),f(e)}))},results:s,setResults:a,isLoading:d,error:O},children:t})},d=function(){return Object(c.useContext)(u)};function b(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],s=d().getSongs;return Object(c.useEffect)((function(){var e;return""!==n&&(e=setTimeout((function(){s(n)}),1e3)),function(){return clearTimeout(e)}}),[n]),Object(i.jsxs)("header",{className:"header__container container",children:[Object(i.jsx)("div",{className:"header__container-title",children:Object(i.jsx)("a",{href:"/",children:Object(i.jsxs)("p",{children:[Object(i.jsx)("span",{children:"vibe"}),"MUSIC"]})})}),Object(i.jsxs)("div",{className:"header__container-inner",children:[Object(i.jsx)("input",{type:"text",className:"header__inner-input",placeholder:"Search...",value:n,onChange:function(e){return r(e.target.value)}}),Object(i.jsx)("span",{className:"material-icons search-icon",title:"search music",onClick:function(){return s(n)},children:"search"}),n.length?Object(i.jsx)("span",{className:"material-icons close-icon",title:"Clear search",onClick:function(){return r("")},children:"close"}):""]})]})}function h(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),r=n[0],s=n[1],a=Object(c.useState)(.8),o=Object(l.a)(a,2),u=o[0],j=o[1],d=e.artist,b=e.setSongId,h=e.songId,m=Object(c.useRef)(null);Object(c.useEffect)((function(){if(d.id!==h)return O()}),[h]);var O=function(){m.current.pause(),s(!1)};return Object(c.useEffect)((function(){m.current.volume=u}),[u]),Object(i.jsxs)("div",{className:"song__block",children:[Object(i.jsx)("img",{src:d.album.cover_medium,alt:"",className:"song__block-poster"}),Object(i.jsx)("p",{className:"song__block-name",children:d.title_short}),Object(i.jsx)("p",{className:"song__block-artist",children:d.artist.name}),Object(i.jsxs)("div",{className:"song__audio-block ".concat(function(){if(d.id===h)return"song__active"}()),children:[r?Object(i.jsx)("span",{className:"material-icons stop",title:"play",onClick:function(){return O()},children:"pause_circle_outline"}):Object(i.jsx)("span",{className:"material-icons play",title:"pay",onClick:function(){return b(d.id),m.current.play(),void s(!0)},children:"play_circle_outline"}),Object(i.jsx)("input",{type:"range",className:"song__audio-volume",value:u,min:"0",step:"0.1",max:"1",onChange:function(e){return j(e.target.value)}}),Object(i.jsx)("a",{href:d.link,className:"song__audio-full",target:"_blank",children:"full song"})]}),Object(i.jsx)("audio",{ref:m,src:d.preview,onEnded:function(){return O()}})]})}var m=n(6),O=n.n(m);function f(){var e,t,n,r=Object(c.useState)(null),s=Object(l.a)(r,2),a=s[0],o=s[1],u=d(),j=u.results,b=u.isLoading,m=u.error;return Object(i.jsxs)("main",{className:"main__container container",children:[Object(i.jsx)("h3",{className:"main__container-title",children:"Original Soundtrack"}),!b&&!(null===m||void 0===m||null===(e=m.error)||void 0===e?void 0:e.message)&&Object(i.jsx)("div",{className:"main__container-songs",children:null===j||void 0===j?void 0:j.map((function(e,t){return Object(i.jsx)("div",{className:"song__container-block",children:Object(i.jsx)(h,{artist:e,setSongId:o,songId:a})},e.id)}))}),b&&Object(i.jsx)(O.a,{style:{textAlign:"center",margin:"100px"},type:"Puff",color:"#ffd11a94",height:100,width:100}),(null===m||void 0===m||null===(t=m.error)||void 0===t?void 0:t.message)&&Object(i.jsxs)("p",{className:"error",children:["Error: ",null===m||void 0===m||null===(n=m.error)||void 0===n?void 0:n.message]})]})}var p=function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(b,{}),Object(i.jsx)(f,{}),Object(i.jsx)(o,{})]})};n(33);a.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(j,{children:Object(i.jsx)(p,{})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.a65d25a4.chunk.js.map